backstage:
  ingress:
    host: backstage.kubrix.cape.rocks

  backstage:
    appConfig:
      app:
        baseUrl: https://backstage.kubrix.cape.rocks

      backend:
        baseUrl: https://backstage.kubrix.cape.rocks
        csp:
          frame-src: ['*.kubrix.cape.rocks']
        cors:
          origin: https://backstage.kubrix.cape.rocks

      proxy:
        endpoints:
          '/grafana/api':
            target: https://grafana.kubrix.cape.rocks

      argocd:
        baseUrl: https://argocd.kubrix.cape.rocks
        appLocatorMethods:
          - type: 'config'
            instances:
              - name: kubrix
                url: https://argocd.kubrix.cape.rocks
                token: ${ARGOCD_AUTH_TOKEN}

      auth:
        providers:
          oidc:
            development:
              callbackUrl: https://backstage.kubrix.cape.rocks/api/auth/oidc/handler/frame

      explore:
        tools:
          - title: Announcements
            description: Updates for your Employees
            url: /announcement
            image: /homepage/images/announcements.jpg
            tags:
              - Announcement
              - Employee
              - noHashtag
          - title: Central Monitoring
            description: Central Monitoring
            url: https://grafana.kubrix.cape.rocks/
            image: /homepage/images/monitoring.jpg
            tags:
              - Monitoring
              - Observability
          - title: GitOps CD
            description: Discover kubriX GitOps CD
            url: https://argocd.kubrix.cape.rocks/
            image: /homepage/images/platforms.jpg
            tags:
              - GitOps
              - CD
              - argocd
          - title: GitOps Promotion
            description: orchestrate stage-to-stage deployments
            url: https://kargo.kubrix.cape.rocks
            image: /homepage/images/sdk.jpg
            tags:
              - kargo
              - multistage
              - promotion
          - title: Thread Detection
            description: Discover security threats in real time
            url: https://falco.kubrix.cape.rocks
            image: /homepage/images/infrastructure.jpg
            tags:
              - falco
              - Threat Detection
              - Regulatory Compliance
          - title: IAM
            description: Identity and Access Management
            url: https://keycloak.kubrix.cape.rocks
            image: /homepage/images/hubs.jpg
            tags:
              - keycloak
              - sso
          - title: Secret Management
            description: Manage Secrets 
            url: https://vault.kubrix.cape.rocks
            image: /homepage/images/apps.jpg
            tags:
              - vault
              - secrets
      catalog:
        locations:
          - type: url
            target: "{{ .Values.global.repoURL }}/blob/{{ .Values.global.targetRevision }}/backstage-resources/templates/showcase-templates-demo-stack.yaml"
            rules:
              - allow: [Template]
          - type: url
            target: "{{ .Values.global.repoURL }}/blob/{{ .Values.global.targetRevision }}/backstage-resources/entities/demo-stack.yaml"

      grafana:
        domain: https://grafana.kubrix.cape.rocks

      kubecost:
        baseUrl: https://kubecost.kubrix.cape.rocks/
